---
@Author: liuyangly1
@Date  : 2021-07-08 13:09:20
@Blog  : https://blog.csdn.net/liuyang_1106
@Github: https://github.com/liuyangly1
@Email : 522927317@qq.com
---

[toc]

# 运算符

[<img src="https://img.shields.io/badge/Github-%E8%AF%B7%E7%82%B9%E4%B8%AAStar%EF%BC%8C%E6%84%9F%E8%B0%A2%EF%BC%81-red" />](https://github.com/liuyangly1/Python) [<img src="https://img.shields.io/badge/CSDN-%E8%AF%B7%E7%82%B9%E4%B8%80%E4%B8%AA%E5%85%B3%E6%B3%A8%EF%BC%8C%E6%84%9F%E8%B0%A2%EF%BC%81-brightgreen" />](https://blog.csdn.net/liuyang_1106)

## 1. 算术运算符

算术运算符定义了数学上常用的几种运算符。

| 运算符 | 描述                                            | 实例                                               |
| :----- | :---------------------------------------------- | :------------------------------------------------- |
| +      | 加 - 两个对象相加                               | a + b 输出结果 30                                  |
| -      | 减 - 得到负数或是一个数减去另一个数             | a - b 输出结果 -10                                 |
| *      | 乘 - 两个数相乘或是返回一个被重复若干次的字符串 | a * b 输出结果 200                                 |
| /      | 除 - x除以y                                     | b / a 输出结果 2                                   |
| %      | 取模 - 返回除法的余数                           | b % a 输出结果 0                                   |
| **     | 幂 - 返回x的y次幂                               | a**b 为10的20次方， 输出结果 100000000000000000000 |
| //     | 取整除 - 返回商的整数部分（**向下取整**）       | `>>> 9//2 4 >>> -9//2 -5`                          |

```python
>>> x = 2
>>> y = 3
# 加法
>>> x + y
5
# 减法
>>> x - y
-1
# 乘法
>>> x * y
6
# 除法
>>> x / y
0.6666666666666666
# 求余
>>> x % y
2
# 幂
>>> x ** y
8
# 整除
>>> x // y
0

```

```python
# 奇偶数判断：通过求余判断
>>> x = 2
>>> y = 3
>>> x % 2 == 0
True
>>> y % 2 == 0
False
```

## 2. 关系运算符

比较运算符又称为关系运算符，用于比较两个对象的大小关系，其返还结果是一个bool类型值，通常用于条件控制。

| 运算符 | 描述                                                         | 实例                                     |
| ------ | ------------------------------------------------------------ | ---------------------------------------- |
| ==     | 等于 - 比较对象是否相等                                      | (a == b) 返回 False。                    |
| !=     | 不等于 - 比较两个对象是否不相等                              | (a != b) 返回 true.                      |
| <>     | 不等于 - 比较两个对象是否不相等。**python3 已废弃。**        | (a <> b) 返回 true。这个运算符类似 != 。 |
| >      | 大于 - 返回x是否大于y                                        | (a > b) 返回 False。                     |
| <      | 小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。 | (a < b) 返回 true。                      |
| >=     | 大于等于 - 返回x是否大于等于y。                              | (a >= b) 返回 False。                    |
| <=     | 小于等于 - 返回x是否小于等于y。                              | (a <= b) 返回 true。                     |

```python
>>> x = 2
>>> y = 3
# 等于
>>> x == y
False
# 不等于
>>> x != y
True
>>> x <> y
  File "<stdin>", line 1
    x <> y
       ^
SyntaxError: invalid syntax
# 大于
>>> x > y
False
# 小于
>>> x < y
True
# 大于等于
>>> x >= y
False
# 小于等于
>>> x <= y
True
```

## 3. 赋值运算符

赋值运算符，用于将一个值（或者变量的值）赋给一个变量。我们用得最多的，是等号=运算符。

| 运算符 | 描述             | 实例                                  |
| :----- | :--------------- | :------------------------------------ |
| =      | 简单的赋值运算符 | c = a + b 将 a + b 的运算结果赋值为 c |
| +=     | 加法赋值运算符   | c += a 等效于 c = c + a               |
| -=     | 减法赋值运算符   | c -= a 等效于 c = c - a               |
| *=     | 乘法赋值运算符   | c *= a 等效于 c = c * a               |
| /=     | 除法赋值运算符   | c /= a 等效于 c = c / a               |
| %=     | 取模赋值运算符   | c %= a 等效于 c = c % a               |
| **=    | 幂赋值运算符     | c **= a 等效于 c = c ** a             |
| //=    | 取整除赋值运算符 | c //= a 等效于 c = c // a             |

```python
>>> x = 2
# 加法赋值
>>> x += 1
>>> x
3
# 减法赋值
>>> x -= 2
>>> x
1
# 乘法赋值
>>> x *= 2
>>> x
2
# 除法赋值
>>> x /= 2
>>> x
1
# 取模赋值
>>> x %= 2
>>> x
1
# 幂赋值
>>> x **= 2
>>> x
1
# 取整除赋值
>>> x //= 2
>>> x
1
```

```python
# 海象运算符：将表达式中的一部分赋值给一个变量，代码更加简洁，性能也更高
list_1 = [100, 200, 300]
if (d := len(list_1)) > 2:
    print(f"lenth of list_1 is {d}")
```

## 4. 逻辑运算符
逻辑运算符用于判断两个bool型之间的关系，支持“与”、“或”、“非”操作。输出值也是一个bool型。

| 运算符 | 逻辑表达式 | 描述                                                         | 实例                    |
| ------ | ---------- | ------------------------------------------------------------ | ----------------------- |
| and    | x and y    | 布尔"与" - 如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值。 | (a and b) 返回 20。     |
| or     | x or y     | 布尔"或" - 如果 x 是非 0，它返回 x 的计算值，否则它返回 y 的计算值。 | (a or b) 返回 10。      |
| not    | not x      | 布尔"非" - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。 | not(a and b) 返回 False |

```python
>>> x = 2
>>> y = 3
>>> x and y
3
>>> x or y
2
>>> not x
False
```

## 5. 位运算符

计算机是以二进制的方式来存储数据的，位运算符支持我们以二进制位的方式来运算数据。

| 运算符 | 描述                                                         | 实例                                                         |
| :----- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| &      | 按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0 | (a & b) 输出结果 12 ，二进制解释： 0000 1100                 |
| \|     | 按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。 | (a \| b) 输出结果 61 ，二进制解释： 0011 1101                |
| ^      | 按位异或运算符：当两对应的二进位相异时，结果为1              | (a ^ b) 输出结果 49 ，二进制解释： 0011 0001                 |
| ~      | 按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1 。**~x** 类似于 **-x-1** | (~a ) 输出结果 -61 ，二进制解释： 1100 0011，在一个有符号二进制数的补码形式。 |
| <<     | 左移动运算符：运算数的各二进位全部左移若干位，由 **<<** 右边的数字指定了移动的位数，高位丢弃，低位补0。 | a << 2 输出结果 240 ，二进制解释： 1111 0000                 |
| >>     | 右移动运算符：把">>"左边的运算数的各二进位全部右移若干位，**>>** 右边的数字指定了移动的位数 | a >> 2 输出结果 15 ，二进制解释： 0000 1111                  |

```python
>>> x = 1
>>> y = 2
# 按位与
>>> x & y
0
# 按位或
>>> x | y
3
# 按位异或
>>> x ^ y
3
# 按位取反
>>> ~x
-2
# 左移
>>> x << 1
2
# 右移
>>> x >> 1
0
```



- 二进制描述一些状态信息，节省内存空间
```python
# status对应1个byte-8个bit位。每个bit位分别代表不同的考试科目：
# 语文：0b00000001
# 数学：0b00000010
# 英语：0b00000100
# 地理：0b00001000
# 化学：0b00010000
# 体育：0b00100000
 
status = 0x0  # 初始状态，所有科目都还没有考
 
# 语文考试结束
status |= 0b00000001
# 体育考试结束
status |= 0b00100000
 
# 判断语文是否已经考完
print(f"语文是否已经考试结束？{status & 0b00000001 == 0b00000001}")
 
 
# 判断地理是否已经考完
print(f"地理是否已经考试结束？{status & 0b00001000 == 0b00001000}")
 
# 是否全部考试结束
print(f"是否都已经考试结束？{status == 0b00111111}")
```

## 6. 成员运算符
成员运算符用于判断一个元素是否是该对象的成员。

| 运算符 | 描述                                                    | 实例                                              |
| :----- | :------------------------------------------------------ | :------------------------------------------------ |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True。     |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。 |

```python
>>> x = 1
>>> y = [1, 2, 3]
>>> x in y
True
>>> x not in y
False
```

## 7. 身份运算符

身份运算符用于判断两个变量指向的对象是否是同一个。

| 运算符 | 描述                                        | 实例                                                         |
| :----- | :------------------------------------------ | :----------------------------------------------------------- |
| is     | is 是判断两个标识符是不是引用自一个对象     | **x is y**, 类似 **id(x) == id(y)** , 如果引用的是同一个对象则返回 True，否则返回 False |
| is not | is not 是判断两个标识符是不是引用自不同对象 | **x is not y** ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。 |

- 判断的依据是两个变量指向的对象是否相同，等同于id(x) == id(y) 或者 id(x) ！= id(y)。
- 需要特别注意的是，is和\==虽然都是比较两者是否相等，当时其作用是完全不同的。**is比较的是变量指向的对象是否相同，而\==比较的是对象的value是否相同。**
```python
>>> x = 1
>>> y = 1
>>> x is y
True
>>> x is not y
False
>>> x == y
True
```

```python
# 注意 -5~256数值类型的地址相等
>>> x = 256
>>> y = 256
>>> x is y
True
>>> x == y
True

>>> x=257
>>> y=257
>>> x is y
False
>>> x == y
True
```



## 8. 运算符优先级

| 运算符                   | 描述                                                   |
| :----------------------- | :----------------------------------------------------- |
| **                       | 指数 (最高优先级)                                      |
| ~ + -                    | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
| * / % //                 | 乘，除，取模和取整除                                   |
| + -                      | 加法减法                                               |
| >> <<                    | 右移，左移运算符                                       |
| &                        | 位 'AND'                                               |
| ^ \|                     | 位运算符                                               |
| <= < > >=                | 比较运算符                                             |
| <> == !=                 | 等于运算符                                             |
| = %= /= //= -= += *= **= | 赋值运算符                                             |
| is is not                | 身份运算符                                             |
| in not in                | 成员运算符                                             |
| not and or               | 逻辑运算符                                             |

- 如果表达式中存在多个运算符，那么python按照上表优先级规则，先执行高优先级运算，在依次执行低优先级运算。

- 合理使用（）括号来表达运算优先级，提升代码的可读性。

```python
# 通过括号来改变运算顺序
>>> 4+4<<2
32
>>> (4+4) << 2
32
>>> 4+(4<<2)
20
```

